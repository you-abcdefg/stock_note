<%# ***** tags/index.html.erb - タグ一覧ページ ***** %>
<%# ***** 【このページの役割】 ***** %>
<%# ***** すべてのタグと、それぞれに付けられた投稿数を表示 ***** %>
<%# ***** ユーザーがタグをクリックして関連投稿を検索できる ***** %>

<div class="container px-5 px-sm-0 mt-4">
  <div class="row">
    <div class="col-md-12">
      <h2 class="mb-4">タグ一覧</h2>

      <% if @tags.any? %>
        <%# ***** タグの詳細テーブル表示 ***** %>
        <div class="table-responsive">
          <table class="table table-hover">
            <thead>
              <tr>
                <th>タグ名</th>
                <th>使用数</th>
                <th>操作</th>
              </tr>
            </thead>
            <tbody>
              <% @tags.each do |tag| %>
                <tr>
                  <td><strong><%= tag.name %></strong></td>
                  <td>
                    <span class="badge badge-info"><%= tag.taggings_count %>件</span>
                  </td>
                  <td>
                    <%= link_to '投稿を見る', tagged_posts_path(tag.name), class: 'btn btn-sm btn-primary' %>
                  </td>
                </tr>
              <% end %>
            </tbody>
          </table>
        </div>
      <% else %>
        <div class="alert alert-warning" role="alert">
          まだタグが登録されていません。
        </div>
      <% end %>

      <div class="mt-3">
        <%= link_to '投稿一覧に戻る', posts_path, class: 'btn btn-secondary' %>
      </div>
    </div>
  </div>
</div>
