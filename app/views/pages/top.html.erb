<%# ***** pages/top.html.erb - トップページ ***** %>
<%# ***** 【このファイルの役割】 ***** %>
<%# ***** アプリケーションのメインランディングページを表示 ***** %>
<%# ***** ユーザーを主要機能へガイドするリンクを配置 ***** %>

<div class="container mt-5">
  <div class="jumbotron bg-light">
    <%# ***** ウェルカムメッセージ ***** %>
    <h1 class="display-4">Stock Note へようこそ</h1>
    <p class="lead">報告書や技術書のような知識集約コンテンツを整理・共有するプラットフォーム</p>
    <hr class="my-4">
    <p>Stock Noteは、調査結果や設計判断、手順書などを蓄積し、再利用できる知識ベースとして活用できます。</p>
    
    <%# ***** ボタン配置 ***** %>
    <div class="mt-4">
      <% if user_signed_in? %>
        <%# ***** ログイン済みユーザー向けボタン ***** %>
        <p>知見を記録・共有してみましょう：</p>
        <div class="btn-group mt-3" role="group">
          <%= link_to '投稿一覧を見る', posts_path, class: 'btn btn-primary btn-lg' %>
          <%= link_to 'グループを探す', groups_path, class: 'btn btn-info btn-lg' %>
          <%= link_to 'ユーザーを検索', users_path, class: 'btn btn-success btn-lg' %>
          <%= link_to '新規投稿を作成', new_post_path, class: 'btn btn-warning btn-lg' %>
        </div>
      <% else %>
        <%# ***** 未ログインユーザー向けボタン ***** %>
        <p>まずはログインして、知識ベースを使い始めましょう：</p>
        <div class="btn-group mt-3" role="group">
          <%= link_to '新規登録', new_user_registration_path, class: 'btn btn-primary btn-lg' %>
          <%= link_to 'ログイン', new_user_session_path, class: 'btn btn-secondary btn-lg' %>
          <%= link_to 'ゲストログイン', guest_sign_in_path, method: :post, class: 'btn btn-info btn-lg' %>
          <%= link_to '投稿一覧を見る', posts_path, class: 'btn btn-light btn-lg' %>
        </div>
      <% end %>
    </div>
  </div>

  <%# ***** 機能説明セクション ***** %>
  <div class="row mt-5">
    <div class="col-md-6">
      <div class="card h-100">
        <div class="card-header bg-primary text-white">
          <h5 class="mb-0"><i class="fas fa-comments"></i> 投稿を共有</h5>
        </div>
        <div class="card-body">
          <p>報告書、技術書、設計メモ、検証結果などを投稿し、組織の知識として蓄積できます。</p>
          <p class="text-muted">タグで分類し、必要な情報へ素早く到達できます。</p>
        </div>
      </div>
    </div>

    <div class="col-md-6">
      <div class="card h-100">
        <div class="card-header bg-info text-white">
          <h5 class="mb-0"><i class="fas fa-users-cog"></i> グループで討論</h5>
        </div>
        <div class="card-body">
          <p>テーマやプロジェクト単位でグループを作成し、レビューや議論を深められます。</p>
          <p class="text-muted">必要に応じてメンバー限定の知識共有も可能です。</p>
        </div>
      </div>
    </div>
  </div>

  <div class="row mt-3">
    <div class="col-md-6">
      <div class="card h-100">
        <div class="card-header bg-success text-white">
          <h5 class="mb-0"><i class="fas fa-star"></i> コンテンツを評価</h5>
        </div>
        <div class="card-body">
          <p>有用な投稿には「いいね」で評価できます。</p>
          <p class="text-muted">重要度の高い知見をすぐに見つけられます。</p>
        </div>
      </div>
    </div>

    <div class="col-md-6">
      <div class="card h-100">
        <div class="card-header bg-warning text-white">
          <h5 class="mb-0"><i class="fas fa-search"></i> 知識を探索</h5>
        </div>
        <div class="card-body">
          <p>タグや検索機能を使って、必要な投稿や作成者を見つけられます。</p>
          <p class="text-muted">更新情報や重要な知見を見逃しません。</p>
        </div>
      </div>
    </div>
  </div>
</div>
